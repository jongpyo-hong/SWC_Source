<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>화면정의서</title>
</head>
<body>

    <style>
        body { margin: 0 auto; }
        section { width:auto; height: inherit; margin-top :50px; }
        table, th, td { border :1px solid; }
        td { padding: 0 20px; }
        
        .sac1 { display: flex; }
        .table1 { border: 1px solid; }
        .table1 td { border-right: 1px solid; padding: auto; }

        .table2 tr, td { cursor: pointer; }

        .btn { display: flex; width: auto;}
        .btn button { margin: 100px 100px; padding: 0 30px; justify-content: space-between; }
    </style>

    <h2>전체리스트</h2>
    <section class="sac1">
        <table class="table1">
            <tr>
                <td class="td1">카테고리</td>
                <td>
                    <select id="option" onchange="populateSecondOption()">
                        <option></option>
                        <option>의류</option>
                        <option>침구</option>
                        <option>가구</option>
                    </select>
                </td>
                <td class="td1">1차</td>
                <td>
                    <select id="first-option" onchange="populateSecondOption()">
                        
                    </select>
                </td>
                <td>2차</td>
                <td>
                    <select id="second-option">
                        <!-- 2차 옵션은 JavaScript를 통해 동적으로 추가됩니다. -->
                    </select>
                </td>
            </tr>
        </table>
        <button type="button" onclick="showTable2()">조회</button>
    </section>

    <section class="sac1-detail">
        <table class="table2" style="display: none;">
            <tr>
                <th>상품코드</th>
                <th>상품명</th>
                <th>제조사명</th>
                <th>단위명</th>
                <th>재고수량</th>
                <th>재고여부</th>
                <th>사용여부</th>
            </tr>
            <tr onclick="showTable3(this)">
                <td>L0001</td>
                <td>남성 티셔츠</td>
                <td>TATE</td>
                <td>ea</td>
                <td>10</td>
                <td><input type="checkbox" checked disabled></td>
                <td><input type="checkbox" checked disabled></td>
            </tr>
            <tr onclick="showTable3(this)">
                <td>L0002</td>
                <td>여성 티셔츠</td>
                <td>TKKL</td>
                <td>ea</td>
                <td>0</td>
                <td><input type="checkbox" disabled></td>
                <td><input type="checkbox" disabled></td>
            </tr>
        </table>
    </section>

    <section class="sac1-deepDetail">
        <table class="table3" style="display: none;">
            <tr>
                <th>상품코드</th>
                <td contenteditable="true" id="product-code"></td>
            </tr>
            <tr>
                <th>상품명</th>
                <td contenteditable="true" id="product-name"></td>
            </tr>
            <tr>
                <th>제조사명</th>
                <td contenteditable="true" id="manufacturer"></td>
            </tr>
            <tr>
                <th>단위명</th>
                <td contenteditable="true" id="unit"></td>
            </tr>
            <tr>
                <th>입고수량</th>
                <td contenteditable="true" id="stock-quantity"></td>
            </tr>
        </table>

        <div class="btn">
            <button type="button" onclick="editTableRow()">수정</button>
            <button type="button">저장</button>
        </div>
        
    </section>

    <script>
        var selectedRow; // 선택된 테이블3의 행을 저장할 변수

        function populateSecondOption() {
            var option = document.getElementById("option");
            var firstOption = document.getElementById("first-option");
            var secondOption = document.getElementById("second-option");

            // 기존 옵션 제거
            firstOption.innerHTML = "";
            secondOption.innerHTML = "";

            // 선택된 1차 옵션에 따라 2차 옵션 추가
            if (option.value === "의류") {
                var options = ["남성", "여성"];
                for (var i = 0; i < options.length; i++) {
                    var option = document.createElement("option");
                    option.text = options[i];
                    firstOption.add(option);
                }
            }

            if (firstOption.value === "남성") {
                var options = ["티셔츠", "바지", "슈트"];
                for (var i = 0; i < options.length; i++) {
                    var option = document.createElement("option");
                    option.text = options[i];
                    secondOption.add(option);
                }
            }
            // 여성인 경우 다른 2차 옵션 추가 가능
            else if (firstOption.value === "여성") {
                var options = ["치마", "팬츠", "양말", "티셔츠"];
                for (var i = 0; i < options.length; i++) {
                    var option = document.createElement("option");
                    option.text = options[i];
                    secondOption.add(option);
                }
            }
        }

        function showTable2() {
            var table2 = document.getElementsByClassName("table2")[0];
            table2.style.display = "table";
        }
        
        function showTable3(row) {
            var table3 = document.getElementsByClassName("table3")[0];
            var productCode = document.getElementById("product-code");
            var productName = document.getElementById("product-name");
            var manufacturer = document.getElementById("manufacturer");
            var unit = document.getElementById("unit");
            var stockQuantity = document.getElementById("stock-quantity");
            
            // 테이블3에 클릭된 행의 정보 표시
            productCode.innerText = row.cells[0].innerText;
            productName.innerText = row.cells[1].innerText;
            manufacturer.innerText = row.cells[2].innerText;
            unit.innerText = row.cells[3].innerText;
            stockQuantity.innerText = row.cells[4].innerText;

            selectedRow = row; // 선택된 행 저장

            // 테이블3 표시
            table3.style.display = "table";
        }

        function editTableRow() {
            if (selectedRow) {
                var productCode = document.getElementById("product-code").innerText;
                var productName = document.getElementById("product-name").innerText;
                var manufacturer = document.getElementById("manufacturer").innerText;
                var unit = document.getElementById("unit").innerText;
                var stockQuantity = document.getElementById("stock-quantity").innerText;

                // 테이블2의 해당 행에 수정된 내용 적용
                selectedRow.cells[0].innerText = productCode;
                selectedRow.cells[1].innerText = productName;
                selectedRow.cells[2].innerText = manufacturer;
                selectedRow.cells[3].innerText = unit;
                selectedRow.cells[4].innerText = stockQuantity;
            }
        }
    </script>

</body>
</html>